<h1 class="bodies">管理画面</h1>
<h2 class="bodies">ユーザー一覧</h2>

<table class="table table-bordered table-hover table-sm mx-auto">
  <thead class="thead-dark">
    <tr>
      <th class="align-middle"><%= t("activerecord.attributes.user.id") %></th>
      <th class="align-middle"><%= t("activerecord.attributes.user.admin") %></th>
      <th class="align-middle"><%= t("activerecord.attributes.user.name") %></th>
      <th class="align-middle"><%= t("activerecord.attributes.user.email") %></th>
      <th class="align-middle">タスク数</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr class="task_row">
        <td class="align-middle"><%= user.id %></td>
        <td class="align-middle"><%= user.admin %></td>
        <td class="align-middle"><%= user.name %></td>
        <td class="align-middle"><%= user.email %></td>
        <td class="align-middle"><%= user.tasks.count(:user_id) %></td>
        <td class="align-middle"><%= link_to 'Show', admin_user_path(user) ,class: "btn btn-outline-primary"%></td>
        <td class="align-middle"><%= link_to 'Edit', edit_admin_user_path(user),class: "btn btn-outline-primary" %></td>
        <td class="align-middle"><%= link_to 'Destroy', admin_user_path(user), method: :delete, data: { confirm: 'Are you sure?' } ,class: "btn btn-outline-primary" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="index-btn">
  <%= link_to 'ユーザー作成', new_admin_user_path, class: "btn btn-outline-primary" %>
</div>
